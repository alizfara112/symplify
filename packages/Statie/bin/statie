#!/usr/bin/env php
<?php declare(strict_types=1);

use Symfony\Component\Console\Input\InputInterface;
use Symfony\Component\Console\Output\OutputInterface;
use Symfony\Component\DependencyInjection\Container;
use Symplify\PackageBuilder\Console\Style\SymfonyStyleFactory;
use Symplify\Statie\Console\Application;

// performance boost
gc_disable();

try {
    /** @var Container $container */
    $container = require __DIR__ . '/statie-autoload.php';

    $application = $container->get(Application::class);
    $input = $container->get(InputInterface::class);
    $output = $container->get(OutputInterface::class);
    exit($application->run($input, $output));
} catch (Throwable $throwable) {
    (SymfonyStyleFactory::create())->error($throwable);
    exit(1);
}
